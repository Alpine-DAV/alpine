

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building Ascent &mdash; Alpine 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Alpine 0.1.0 documentation" href="index.html"/>
        <link rel="up" title="Ascent Documentation" href="Ascent.html"/>
        <link rel="next" title="Ascent API" href="AscentAPI.html"/>
        <link rel="prev" title="Example Integrations" href="ExampleIntegrations.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Alpine
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Ascent.html">Ascent Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Overview.html">Ascent Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="ExampleIntegrations.html">Example Integrations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Building Ascent</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-dependencies">Build Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ascent">Ascent</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-options">Build Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#host-config-files">Host Config Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bootstrapping-third-party-dependencies">Bootstrapping Third Party Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compiler-settings-for-third-party-dependencies">Compiler Settings for Third Party Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-with-spack">Building with Spack</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-ascent-in-another-project">Using Ascent in Another Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-ascent-in-a-docker-container">Building Ascent in a Docker Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-ascent-dependencies-manually">Building Ascent Dependencies Manually</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hdf5-optional">HDF5 (Optional)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Conduit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vtk-m-optional-but-recommended">VTK-m (Optional but recommended)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vtk-h-optional-but-recommended">VTK-h (Optional but recommended)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Ascent</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="AscentAPI.html">Ascent API</a></li>
<li class="toctree-l2"><a class="reference internal" href="Actions/index.html">Ascent Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="GPU_notes.html">Ascent GPU Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="Publications.html">Publications and Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licenses.html">License Info</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Alpine</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="Ascent.html">Ascent Documentation</a> &raquo;</li>
      
    <li>Building Ascent</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/BuildingAscent.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-ascent">
<h1>Building Ascent<a class="headerlink" href="#building-ascent" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Ascent uses CMake for its build system.
Building Ascent creates two separate libraries:</p>
<blockquote>
<div><ul class="simple">
<li>libascent : a version for execution on a single node</li>
<li>libascent_par : a version for distributed memory parallel</li>
</ul>
</div></blockquote>
<p>The CMake variable( ENABLE_MPI ON | OFF ) controls the building the parallel version of Ascent and included proxy-apps.</p>
<p>The build dependencies vary according to which pipelines and proxy-applications are desired.
For a minimal build with no parallel components, the following are required:</p>
<blockquote>
<div><ul class="simple">
<li>Conduit</li>
<li>C++ compilers</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="build-dependencies">
<h2>Build Dependencies<a class="headerlink" href="#build-dependencies" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="_images/AscentDependencies.png"><img alt="_images/AscentDependencies.png" class="align-center" src="_images/AscentDependencies.png" style="height: 600px;" /></a>
<div class="section" id="ascent">
<h3>Ascent<a class="headerlink" href="#ascent" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Conduit</li>
<li>One or more runtimes</li>
</ul>
</div></blockquote>
<p>For Ascent, the Flow runtime is builtin, but for visualization functionality (filters and rendering), the VTK-h runtime is needed.</p>
<div class="section" id="conduit">
<h4>Conduit<a class="headerlink" href="#conduit" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>MPI</li>
<li>Python + NumPy (Optional)</li>
<li>HDF5 (Optional)</li>
<li>Fortran compiler (Optional)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="vtk-h">
<h4>VTK-h<a class="headerlink" href="#vtk-h" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">VTK-h:</p>
<blockquote>
<div><ul class="simple">
<li>VTK-m:<ul>
<li>TBB (Optional)  Intel&#8217;s Threaded Building Blocks</li>
<li>CUDA 6.5+ (Optional)</li>
<li>MPI (Optional)</li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When building VTK-m with VTK-h which must be configured with rendering on, among other options.
For a full list of options that need to be set, consult <cite>/uberenv_libs/spack/var/spack/repos/builtin/packages/vtkm/package.py</cite>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Clone the Ascent repo:</p>
<ul class="simple">
<li>From Github</li>
</ul>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">recursive</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Ascent</span><span class="o">-</span><span class="n">DAV</span><span class="o">/</span><span class="n">ascent</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Configure a build:</p>
<p><code class="docutils literal"><span class="pre">config-build.sh</span></code> is a simple wrapper for the cmake call to configure ascent.
This creates a new out-of-source build directory <code class="docutils literal"><span class="pre">build-debug</span></code> and a directory for the install <code class="docutils literal"><span class="pre">install-debug</span></code>.
It optionally includes a <code class="docutils literal"><span class="pre">host-config.cmake</span></code> file with detailed configuration options.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">ascent</span>
<span class="o">./</span><span class="n">config</span><span class="o">-</span><span class="n">build</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>Build, test, and install Ascent:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">build</span><span class="o">-</span><span class="n">debug</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j</span> <span class="mi">8</span>
<span class="n">make</span> <span class="n">test</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="build-options">
<h2>Build Options<a class="headerlink" href="#build-options" title="Permalink to this headline">¶</a></h2>
<p>Ascent&#8217;s build system supports the following CMake options:</p>
<ul class="simple">
<li><strong>BUILD_SHARED_LIBS</strong> - Controls if shared (ON) or static (OFF) libraries are built. <em>(default = ON)</em></li>
<li><strong>ENABLE_TESTS</strong> - Controls if unit tests are built. <em>(default = ON)</em></li>
<li><strong>ENABLE_DOCS</strong> - Controls if the Ascent documentation is built (when sphinx and doxygen are found ). <em>(default = ON)</em></li>
<li><strong>ENABLE_FORTRAN</strong> - Controls if Fortran components of Ascent are built. This includes the Fortran language bindings and Cloverleaf3D . <em>(default = ON)</em></li>
<li><strong>ENABLE_PYTHON</strong> - Controls if the ascent python module and related tests are built. <em>(default = OFF)</em></li>
</ul>
<blockquote>
<div>The Ascent python module will build for both Python 2 and Python 3. To select a specific Python, set the CMake variable PYTHON_EXECUTABLE to path of the desired python binary. The ascent python module requires the Conduit python module.</div></blockquote>
<ul class="simple">
<li><strong>ENABLE_OPENMP</strong> - Controls if the proxy-apps are configured with OpenMP. <em>(default = OFF)</em></li>
<li><strong>ENABLE_MPI</strong> - Controls if parallel versions of proxy-apps and Ascent are built. <em>(default = ON)</em></li>
</ul>
<blockquote>
<div><p>We are using CMake&#8217;s standard FindMPI logic. To select a specific MPI set the CMake variables <strong>MPI_C_COMPILER</strong> and <strong>MPI_CXX_COMPILER</strong>, or the other FindMPI options for MPI include paths and MPI libraries.</p>
<p>To run the mpi unit tests on LLNL&#8217;s LC platforms, you may also need change the CMake variables <strong>MPIEXEC</strong> and <strong>MPIEXEC_NUMPROC_FLAG</strong>, so you can use srun and select a partition. (for an example see: src/host-configs/chaos_5_x86_64.cmake)</p>
</div></blockquote>
<ul class="simple">
<li><strong>CONDUIT_DIR</strong> - Path to an Conduit install <em>(required for parallel version)</em>.</li>
<li><strong>VTKM_DIR</strong> - Path to an VTK-m install <em>(optional)</em>.</li>
<li><strong>HDF5_DIR</strong> - Path to a HDF5 install <em>(optional)</em>.</li>
</ul>
</div>
<div class="section" id="host-config-files">
<h2>Host Config Files<a class="headerlink" href="#host-config-files" title="Permalink to this headline">¶</a></h2>
<p>To handle build options, third party library paths, etc we rely on CMake&#8217;s initial-cache file mechanism.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">C</span> <span class="n">config_file</span><span class="o">.</span><span class="n">cmake</span>
</pre></div>
</div>
<p>We call these initial-cache files <em>host-config</em> files, since we typically create a file for each platform or specific hosts if necessary.</p>
<p>The <code class="docutils literal"><span class="pre">config-build.sh</span></code> script uses your machine&#8217;s hostname, the SYS_TYPE environment variable, and your platform name (via <em>uname</em>) to look for an existing host config file in the <code class="docutils literal"><span class="pre">host-configs</span></code> directory at the root of the ascent repo. If found, it passes the host config file to CMake via the <cite>-C</cite> command line option.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="p">{</span><span class="n">other</span> <span class="n">options</span><span class="p">}</span> <span class="o">-</span><span class="n">C</span> <span class="n">host</span><span class="o">-</span><span class="n">configs</span><span class="o">/</span><span class="p">{</span><span class="n">config_file</span><span class="p">}</span><span class="o">.</span><span class="n">cmake</span> <span class="o">../</span>
</pre></div>
</div>
<p>You can find example files in the <code class="docutils literal"><span class="pre">host-configs</span></code> directory.</p>
<p>These files use standard CMake commands. CMake <em>set</em> commands need to specify the root cache path as follows:</p>
<div class="code cmake highlight-default"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">CMAKE_VARIABLE_NAME</span> <span class="p">{</span><span class="n">VALUE</span><span class="p">}</span> <span class="n">CACHE</span> <span class="n">PATH</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>It is  possible to create your own configure file, and an boilerplate example is provided in <cite>/host-configs/boilerplate.cmake</cite></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If compiling all of the dependencies yourself, it is important that you use the same compilers for all dependencies. For
example, different MPI and Fortran compilers (e.g., Intel and GCC) are not compatible with one another.</p>
</div>
</div>
<div class="section" id="bootstrapping-third-party-dependencies">
<h2>Bootstrapping Third Party Dependencies<a class="headerlink" href="#bootstrapping-third-party-dependencies" title="Permalink to this headline">¶</a></h2>
<p>You can use <code class="docutils literal"><span class="pre">bootstrap-env.sh</span></code> (located at the root of the ascent repo) to help setup your development environment on OSX and Linux.
This script uses <code class="docutils literal"><span class="pre">scripts/uberenv/uberenv.py</span></code>, which leverages <strong>Spack</strong> (<a class="reference external" href="http://software.llnl.gov/spack">http://software.llnl.gov/spack</a>) to build the external third party libraries and tools used by Ascent.
Fortran support in is optional, dependencies should build without fortran.
After building these libraries and tools, it writes an initial <em>host-config</em> file and adds the Spack built CMake binary to your PATH, so can immediately call the <code class="docutils literal"><span class="pre">config-build.sh</span></code> helper script to configure a ascent build.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>#build third party libs using spack
source bootstrap-env.sh

#copy the generated host-config file into the standard location
cp uberenv_libs/`hostname`*.cmake to host-configs/

# run the configure helper script
./config-build.sh

# or you can run the configure helper script and give it the
# path to a host-config file
./config-build.sh uberenv_libs/`hostname`*.cmake
</pre></div>
</div>
</div>
<div class="section" id="compiler-settings-for-third-party-dependencies">
<h2>Compiler Settings for Third Party Dependencies<a class="headerlink" href="#compiler-settings-for-third-party-dependencies" title="Permalink to this headline">¶</a></h2>
<p>You can edit <code class="docutils literal"><span class="pre">scripts/uberenv/compilers.yaml</span></code> to change the compiler settings
passed to Spack. See the <a class="reference external" href="http://software.llnl.gov/spack/basic_usage.html#manual-compiler-configuration">Spack Compiler Configuration</a>
documentation for details.</p>
<p>For OSX, the defaults in <code class="docutils literal"><span class="pre">compilers.yaml</span></code> are clang from X-Code and gfortran from <a class="reference external" href="https://gcc.gnu.org/wiki/GFortranBinaries#MacOS">https://gcc.gnu.org/wiki/GFortranBinaries#MacOS</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The bootstrapping process ignores <code class="docutils literal"><span class="pre">~/.spack/compilers.yaml</span></code> to avoid conflicts
and surprises from a user&#8217;s specific Spack settings on HPC platforms.</p>
</div>
</div>
<div class="section" id="building-with-spack">
<h2>Building with Spack<a class="headerlink" href="#building-with-spack" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Ascent developers use <code class="docutils literal"><span class="pre">scripts/uberenv/uberenv.py</span></code> to setup third party libraries for Ascent
development.  Due to this, the process builds more libraries than necessary for most use cases.
For example, we build independent installs of Python 2 and Python 3 to make it easy
to check Python C-API compatibility during development. In the near future, we plan to
provide a Spack package to simplify deployment.</p>
</div>
</div>
<div class="section" id="using-ascent-in-another-project">
<h2>Using Ascent in Another Project<a class="headerlink" href="#using-ascent-in-another-project" title="Permalink to this headline">¶</a></h2>
<p>Under <code class="docutils literal"><span class="pre">src/examples</span></code> there are examples demonstrating how to use Ascent in a CMake-based build system (<code class="docutils literal"><span class="pre">using-with-cmake</span></code>) and via a Makefile (<code class="docutils literal"><span class="pre">using-with-make</span></code>).
Under <code class="docutils literal"><span class="pre">src/examples/proxies</span></code>  you can find example integrations using ascent in the Lulesh, Kripke, and Cloverleaf3D proxy-applications.
In <code class="docutils literal"><span class="pre">src/examples/synthetic/noise</span></code> you can find an example integration using our synthetic smooth noise application.</p>
</div>
<div class="section" id="building-ascent-in-a-docker-container">
<h2>Building Ascent in a Docker Container<a class="headerlink" href="#building-ascent-in-a-docker-container" title="Permalink to this headline">¶</a></h2>
<p>Under <code class="docutils literal"><span class="pre">src/examples/docker/master/ubuntu</span></code> there is an example <code class="docutils literal"><span class="pre">Dockerfile</span></code> which can be used to create an ubuntu-based docker image with a build of the Ascent github master branch. There is also a script that demonstrates how to build a Docker image from the Dockerfile (<code class="docutils literal"><span class="pre">example_build.sh</span></code>) and a script that runs this image in a Docker container (<code class="docutils literal"><span class="pre">example_run.sh</span></code>). The Ascent repo is cloned into the image&#8217;s file system at <code class="docutils literal"><span class="pre">/ascent</span></code>, the build directory is <code class="docutils literal"><span class="pre">/ascent/build-debug</span></code>, and the install directory is <code class="docutils literal"><span class="pre">/ascent/install-debug</span></code>.</p>
</div>
<div class="section" id="building-ascent-dependencies-manually">
<h2>Building Ascent Dependencies Manually<a class="headerlink" href="#building-ascent-dependencies-manually" title="Permalink to this headline">¶</a></h2>
<p>In some environments, a spack build of Ascents dependencies can fail or a user may prefer to build the dependencies manually.
This section describes how to build Ascents components.
When building Ascents dependencies, it is <strong>highly</strong> recommended to fill out a host config file like the one located in <code class="docutils literal"><span class="pre">/host-configs/boilerplate.cmake</span></code>.
This is the best way to avoid problems that can easily arise from mixing c++ standard libraries conflicts, MPI library conflicts, and fortran module conflicts, all of which are difficult to spot.
Use the same CMake host-config file for each of Ascent&#8217;s dependencies, and while this may bring in unused cmake variables and clutter the ccmake curses interface, it will help avoid problems.
In the host config, you can specify options such as <code class="docutils literal"><span class="pre">ENABLE_PYTHON=OFF</span></code> and <code class="docutils literal"><span class="pre">ENABLE_FORTRAN=OFF</span></code> that will be respected by both conduit and ascent.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">At this time, VTK-m cannot be built and linked to with Intel Compilers because of an issue with symbol visibility. Consequently, we only recommend building Ascent with GNU compilers with c++11 support.</p>
</div>
<div class="section" id="hdf5-optional">
<h3>HDF5 (Optional)<a class="headerlink" href="#hdf5-optional" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.8/hdf5-1.8.16/src/hdf5-1.8.16.tar.gz">HDF5 source tarball</a> on the HDF5 group&#8217;s website. While the source contains both an autotools configure and CMake build system, use the CMake build system with your host config file.
Once you have built and installed HDF5 into a local directory, add the location of that directory to the declaration of the <code class="docutils literal"><span class="pre">HDF5_DIR</span></code> in the host config file.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">support</span><span class="o">.</span><span class="n">hdfgroup</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">HDF5</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">hdf5</span><span class="o">-</span><span class="mf">1.8</span><span class="o">/</span><span class="n">hdf5</span><span class="o">-</span><span class="mf">1.8</span><span class="o">.</span><span class="mi">16</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">hdf5</span><span class="o">-</span><span class="mf">1.8</span><span class="o">.</span><span class="mf">16.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="o">&gt;</span> <span class="n">hdf5</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">tar</span> <span class="o">-</span><span class="n">xzf</span> <span class="n">hdf5</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="n">hdf5</span><span class="o">-</span><span class="mf">1.8</span><span class="o">.</span><span class="mi">16</span><span class="o">/</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">mkdir</span> <span class="n">install</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">C</span> <span class="n">path_to_host_config</span><span class="o">/</span><span class="n">myhost_config</span><span class="o">.</span><span class="n">cmake</span> <span class="o">.</span> \
  <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="n">path_to_install</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>In the host config, add <code class="docutils literal"><span class="pre">set(HDF5_DIR</span> <span class="pre">&quot;/path/to/hdf5_install&quot;</span> <span class="pre">CACHE</span> <span class="pre">PATH</span> <span class="pre">&quot;&quot;)</span></code>.</p>
</div>
<div class="section" id="id1">
<h3>Conduit<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The version of conduit we use is v0.3.0. If the <code class="docutils literal"><span class="pre">HDF5_DIR</span></code> is specified in the host config, conduit will build the relay io library.
Once you have installed conduit, add the path to the install directory to your host config file in the cmake variable <cite>CONDUIT_DIR</cite>.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">recursive</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">LLNL</span><span class="o">/</span><span class="n">conduit</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">conduit</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">tags</span><span class="o">/</span><span class="n">v0</span><span class="o">.</span><span class="mf">3.0</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">mkdir</span> <span class="n">install</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">C</span> <span class="n">path_to_host_config</span><span class="o">/</span><span class="n">myhost_config</span><span class="o">.</span><span class="n">cmake</span> <span class="o">../</span><span class="n">src</span> \
  <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="n">path_to_install</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>In the host config, add <code class="docutils literal"><span class="pre">set(CONDUIT_DIR</span> <span class="pre">&quot;/path/to/conduit_install&quot;</span> <span class="pre">CACHE</span> <span class="pre">PATH</span> <span class="pre">&quot;&quot;)</span></code>.</p>
</div>
<div class="section" id="vtk-m-optional-but-recommended">
<h3>VTK-m (Optional but recommended)<a class="headerlink" href="#vtk-m-optional-but-recommended" title="Permalink to this headline">¶</a></h3>
<p>We currently use the master branch of VTK-m, but in the future, we will checkout a specific commit or release for stability.
We recommend VTK-m since VTK-m and VTK-h provide the majority of Ascent&#8217;s visualization and analysis functionality.
The code below is minimal, and will only configure the serial device adapter. For instructions on building with TBB and CUDA, please consult the
<a class="reference external" href="https://gitlab.kitware.com/vtk/vtk-m">VTK-m repository</a>. In Ascent, we require non-default configure options, so pay close attention to the extra cmake configure options.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">gitlab</span><span class="o">.</span><span class="n">kitware</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">vtk</span><span class="o">/</span><span class="n">vtk</span><span class="o">-</span><span class="n">m</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">vtk</span><span class="o">-</span><span class="n">m</span>
<span class="n">mkdir</span> <span class="n">install</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">C</span> <span class="n">path_to_host_config</span><span class="o">/</span><span class="n">myhost_config</span><span class="o">.</span><span class="n">cmake</span> <span class="o">.</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="n">path_to_install</span> \
  <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> <span class="o">-</span><span class="n">DVTKm_USE_64BIT_IDS</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DVTKm_USE_DOUBLE_PRECISION</span><span class="o">=</span><span class="n">ON</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>In the host config, add <code class="docutils literal"><span class="pre">set(VTKM_DIR</span> <span class="pre">&quot;/path/to/vtkm_install&quot;</span> <span class="pre">CACHE</span> <span class="pre">PATH</span> <span class="pre">&quot;&quot;)</span></code>.</p>
</div>
<div class="section" id="vtk-h-optional-but-recommended">
<h3>VTK-h (Optional but recommended)<a class="headerlink" href="#vtk-h-optional-but-recommended" title="Permalink to this headline">¶</a></h3>
<p>We recommend VTK-h since VTK-m and VTK-h provide the majority of Ascent&#8217;s visualization and analysis functionality.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Alpine</span><span class="o">-</span><span class="n">DAV</span><span class="o">/</span><span class="n">vtk</span><span class="o">-</span><span class="n">h</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">vtk</span><span class="o">-</span><span class="n">h</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">mkdir</span> <span class="n">install</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">C</span> <span class="n">path_to_host_config</span><span class="o">/</span><span class="n">myhost_config</span><span class="o">../src</span><span class="n">cmake</span> <span class="o">.</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="n">path_to_install</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>In the host config, add <code class="docutils literal"><span class="pre">set(VTKH_DIR</span> <span class="pre">&quot;/path/to/vtkh_install&quot;</span> <span class="pre">CACHE</span> <span class="pre">PATH</span> <span class="pre">&quot;&quot;)</span></code>.</p>
</div>
<div class="section" id="id2">
<h3>Ascent<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Now that we have all the dependencies built and a host config file for our environment, we can now build Ascent.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">recursive</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Alpine</span><span class="o">-</span><span class="n">DAV</span><span class="o">/</span><span class="n">ascent</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">ascent</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">mkdir</span> <span class="n">install</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">C</span> <span class="n">path_to_host_config</span><span class="o">/</span><span class="n">myhost_config</span><span class="o">.</span><span class="n">cmake</span> <span class="o">.</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="n">path_to_install</span> \
  <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>To run the unit tests to make sure everything works, do <code class="docutils literal"><span class="pre">make</span> <span class="pre">test</span></code>.
If you install these dependencies in a public place in your environment, we encourage you to make you host config publicly available by submitting a pull request to the Ascent repo.
This will allow others to easily build on that system by only following the Ascent build instructions.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="AscentAPI.html" class="btn btn-neutral float-right" title="Ascent API" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ExampleIntegrations.html" class="btn btn-neutral" title="Example Integrations" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2016, LLNS.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
